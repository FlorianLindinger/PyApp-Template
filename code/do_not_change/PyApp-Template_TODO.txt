======================================
==== TODO LIST FOR PyApp-Template ====
======================================

add readme extensiom

add comments to theme.qss

update pyproject.toml but not anabel the D


fidx id_of_currently_running_hidden_program not disappierung and only pappreing for hiddne

fix id_of_currently_running_hidden_program not having .pid

 replace in code           
icon_path=icons\icon.ico
settings_icon_path=icons\settings.ico
stop_icon_path=icons\stop.ico
remove icons setting?

make extra icon for no terminal mode

check if pillow install is liocense safe

install pip for first install:
"""
[Info] Installing default packages...

[notice] A new release of pip is available: 25.3 -> 26.0.1
[notice] To update, run: C:\Users\Flo\Documents\Repositories\PyApp Template\code\py_env\virt_env\Scripts\python.exe -m pip install --upgrade pip
"""

move general_utilties stuff into utilities repo

make double clic kthing in root also into python

chelc if emnbeddated python laincj works for shorctu grpuoping and differnetiating 

chekc what functions to copy to fun_flo in terminal scriopt

cmd shortcut also works for app id with qt window

make all shorctus call teh same python.exe so only one confirmation to run? does that wokr taht way

===================================
 new terminal related
===================================

change color of taskbar app bar

have option to always have it ontop and ways to toggle that at runtime

move out terminal emulator part to compiled and leave rest python and run via runtime. but drawback is that there is no attached terminal mode. drawback is also long target path to call python and a script

shortcuts can fail if properties open. am i deletingand chekcing afterwars?

sanastize app name before using in shortcuts tarrget and shortuct name and appid

test if error handled if shortcut passes no args

if open new terminal fails, at least print i in dubug console i guess

close_on_crash=close_on_crash,
close_on_failure=close_on_failure,
close_on_success=close_on_success,
chekc if works on all paths

add descript ón to shorticts

rename pyside6_terminal.py

get parity in both window mode error msges:
""""
except Exception as e:
    if close_on_crash:
        sys.exit(1)
    else:
        set_terminal_name(f"[Crash] {{get_terminal_name()}}")
        print()
        print_red("="*40)
        print_red(f"CRITICAL LAUNCH ERROR: {{e}}")
        print_red("="*40)
        traceback.print_exc()
        print_red("="*40)
        print(f"[Info] Python Exe/Command: {{python_exe_for_script_path}}")
        print(f"[Info] Script: {{script_path}}")
        print()
        input_red("[Python Crash] See above. Press 
        Enter to exit.")
"""

add comments to error_catcher_wrapper_template

can the shortcut pass the remaining_args???
can at least the exe????

get wdir_for_script = sys.argv[4] instaed from settings

relative path local python_exe becasue why not 

relative path local script_path becasue why not and maybe allow then for settings

app id should stay as arg since it should come from shortcut

also look at todo in old fancy termionl 
copy features form fancy terminal

add app name to opnedd crash terminal

make ====== as long as msg and retrun legnt

highlight windows temrinal on crahs

add setting to stay open for errorcode!=0

does this work as expected:
"""
       except Exception as e:
            error_msg = f"{e}\n\n{traceback.format_exc()}\n"

            # print error in new terminal (because this script might be launched without terminal)
            print_msg_in_new_terminal(error_msg)

            #return (SystemExit does not raise Exception)
            raise SystemExit(app.exec())
            
    else:
"""

test if global python works and allow for py and python

lesss padding for first print

ahve travebakc error also inside qt tetrminalk

change to global error icon with try excpet of crash

add title and struff to terminal opemneer

add print to script where the errror occured. can i make link?

fix errors not spawining a terminal to dispaly errrors

test if taskbar grouping works for:
p = subprocess.Popen(
            [python_exe, script_path],
            creationflags=subprocess.CREATE_NEW_CONSOLE,

addd debug mode launch that lkaunches it in attached mode. add a debug launcehr shortcut to code folder

use nuitka mode attach to have 2 exe in one. Not sure if teriminal emuatr can still combine with launcher. also better for AV safety

maybne only python script that calls qt terminal needs to change app id. lets cehck if anything can be launched maybe this exe gernaetor thing agian

===================================
   Unsorted
===================================

do i need activate? linking to Scipots\python does the same. But also in portable venv?

handle modeule not foiund errror better. maybe link to script atht installs

add errorlevel checks to the 1.bat ... to catch errors
eg.C:\Users\Flo\Documents\Repositories\PyBoson\code\py_env\virt_env\portable_Scripts\..\Scripts\python.exe: can't open file 'C:\\Users\\Flo\\Documents\\Repositories\\PyBoson\\code\\do_not_change\\specific_scripts\\main_code.py': [Errno 2] No such file or directory

-i need a script to check python distro ==  wanted and reinstalls it and deletes venv if needed and resets packages to old
-i need a scipt that creates venv if not there that calls the python script if not 
-i need a script to install packages dfrom defualt script that calls the venv script if not
-i need the main script to check for auto determine message in deauflt_package.txt 

make a determine_requiremnets.txt.bat
make a installed_packages_to_requirements.txt.bat
make different version for not fixed versions


"""

echo.
echo ==============================================
echo Installing discovered packages...
echo ==============================================
:: Install the "naked" requirements. Pip solves the versions here.
call python -m pip install -r "%python_file_requirements_path%"

if %errorlevel% equ 0 (
    echo.
    echo ==============================================
    echo Cleaning and Freezing requirements...
    echo ==============================================
    
    :: The "Clean Freeze" Trick:
    :: We use a python one-liner to compare what's installed against what we actually asked for.
    :: This removes 'pipreqs' and other 'meta' tools from the final list.
    
    python -c "import pkg_resources; reqs = [line.strip().lower() for line in open(r'%python_file_requirements_path%') if line.strip()]; installed = {p.project_name.lower(): p.version for p in pkg_resources.working_set}; f = open(r'%python_file_requirements_path%', 'w'); [f.write(f'{name}=={installed[name]}\n') for name in reqs if name in installed]; f.close()"
    
    echo Final clean requirements list created.
)
"""


add pipreqs mappigns to all




print lsit of packages whenever they are install from list
print apps that will be installed with [Info] Installing packages (see below):

how to ensure there is python for install_packages_needed_in_python_files.bat? use local python? and trigger its installatin wihtout venv?
-> apparently activaes to have ensured. maybe dont fore venv aswell. allow for only python install. definitetly becasue otherwise venv ,igjht already ahve worong installed.
definitely chekc if python vertison correct

add prints to install_packages_needed_in_python_files.bat
. maybe also what was before nad what is now and maybe diff

===================================
important
===================================

maybe run batch via : 
"""
3. "Portable" Application Launchers (NSIS / Inno Setup)
You can use a tool like NSIS (Nullsoft Scriptable Install System) to create a small "Launcher executable."

How it works: NSIS is a scripting language that compiles into a very small, high-reputation .exe. It is used by thousands of apps (like VLC, Spotify).

The Script: You write a script that says "Execute runtime\python.exe main.py and hide the window."

AV Safety: High. NSIS has a very high reputation with Antivirus companies. It is rarely flagged compared to PyInstaller.

Grouping: Excellent. The NSIS .exe can have its own icon embedded directly in the file.
"""

move all batch stuff to pyhon with runtime? need a non cmd.exe for shortcut target.
i cant use the installed python since it might not be there anymore and ligic might change in verisons. I guess i can use the pyrton dist directly and then activae and run the script. But then i need to make sure the python dist is there. . actually jsut need python to run the batch which then can do whateveer needed. But if hte bartch fails then the shortcut will not work again and nothing can recover



mention recent improivenetmns to taskabr combining and setting to start in shortcut folder

# somehow pass wdir via shortcuts. maybe have setting to start in shortcut folder or app folder?

app id should be passed from shortcut such that always correct app id is used
# Tell Windows to use this AppID for this process
myAppID = sys.argv[1]
ctypes.windll.shell32.SetCurrentProcessExplicitAppUserModelID(myAppID)

how to katch model not found error? maybe ahve minimum open time? somehow python should be in charge and able to fail. maybe only katch if defualt_packages.txt still has trigger text

even notepad.exe for dev_tools required confirmation

is python_code_path setting working with pipreqs

make somehow shortcut generation lnk not require admin. Maybe icon is ont worth it and batch would do

add good settings for pyrefly for pyproject.toml

add placeholder batches

update git topics and order
Fix Release in git
update README

make install packages needed in python files batch seach in code and in .py scripts and not in env

===================================
unrealated
===================================

add venv to python->exe (see folder compiler)
test if 
  --nofollow-import-to=*.tests ^
for all

add docstrings to python to exe scripts

create license template for folder exe compiler
also chack for template

inm python compialtion batches. make input a txt file for additional nuitka args

fix pipreqs for single script:
"""
pip install pipreqs --disable-pip-version-check
mkdir %temp%\tmp_pipreqs
copy "%python_file%" %temp%\tmp_pipreqs\
python -m pipreqs.pipreqs %temp%\tmp_pipreqs --force --savepath "%tmp_requirements_file%"
rmdir /s /q %temp%\tmp_pipreqs
echo.
echo ==========================================
echo Required packages for code:
echo ==========================================
type "%tmp_requirements_file%"
echo ==========================================
echo.
pip install -r "%tmp_requirements_file%"  --disable-pip-version-check
pip install nuitka  --disable-pip-version-check
"""
also copy over:
"""
rmdir /s /q "%temp%\tmp_venv_for_compilation" > nul 2>&1  
python -m venv "%temp%\tmp_venv_for_compilation"
call "%temp%\tmp_venv_for_compilation\Scripts\activate.bat"
""" for more safety as not a setting

add pipreqs to default packages

add upgrad pip to virtual env?

deleted old python folder.   ->add where in portavlav python

vscode ruff
2025-11-12 14:51:26.911650000  INFO Registering workspace: c:\Users\agpup\Documents\Repositories
2025-11-12 14:51:26.978416400  INFO Configuration file watcher successfully registered
2025-11-12 14:51:27.024018800  INFO Server shut down
[Error - 2:51:27 PM] Server process exited with code 0.
2025-11-12 14:51:27.215409000  INFO Registering workspace: c:\Users\agpup\Documents\Repositories
2025-11-12 14:51:27.216785600  INFO Configuration file watcher successfully registered
2025-11-12 15:11:42.427337600 ERROR Failed to load settings from `configuration`: error looking key 'env:USERPROFILE' up: environment variable not found
2025-11-12 15:11:42.427384900  WARN No settings available for file:///c%3A/Users/agpup/AppData/Local/Programs/Python/Python313/Lib/ctypes/__init__.py - falling back to default settings

can i make interactiev turn into non interactiev on reopen?

make side grouvps in vscode smaller for scolling over. or add maximize button

combine stuff from PyBoson and rest in GUI folder in utilites

in create venv batch for no rg make better print:
 [Error] "C:\Users\Flo\Documents\Repositories\PyApp-Template\code\do_not_change\general_utilities\python_environment\portable_python\python.exe" does not exist. Aborting. Press any key to exit.

make robust against pople deleting python_enviroment parent folder. does portavle batch already do that

fix portable creatos batches actually not having args path for the batches they create but default path.
Mention that paths have to be relative to work as portable. On other hand it will fail if abs input. one could want fixed pytthn and portable venv?
+ copy over changes

how to deal with license for exe creators and git uploading?

make venv optional for all compilatioon scrits

update python verison checkfr from template to utilites


===================================
checks related
===================================

chekc if works for download via git


check if open_terminal_for_manual installation batch works


cehck if all pyhthon, pip have call before


need close of setting lnk? check


test if it works for 3.6 and update min in github text

test if admin is ultiamtely needed and maybe enable install via zip for 3.11+ for no admin


check if i lost more when i asccidenitlly delete conversion of true/false to 1/0 in commit in create_portable_python

check if fresh download works
test with folder path with space. 
test portable of whole

fix that every CD and everything resets ERRORLEVEL->check

check if works for windows not allowed long paths
and explain limits then

cehck diff of git to local with code

chekc for all file types: class custom_error_dictionary(dict):
    """dictionary subclass for custom error message of missing key"""

    def __missing__(self, key):
        raise ValueError(f'Missing-setting-error: "{key}" is not defined in {file_path}')


conside making it not temmplate

check if it allows spaces in non user args and maybe clean generally

need admin to copy from system32?

current_file_path has \. maybe it matters. remove?

allow for space paths everywhere in app name and path

function call also changes ~dp0. so deliverate use only in beginning and set as variable. avoid move to local file. rather use explicitly this varialbe. add proper globla explanation that function call does that?

test faulthandler

make make_absolute_path_if_relative work with empty path-> check all

fix warniong for following after git clone. maybe fix needed for derivative repos:
  'code/do_not_change/PyApp-Template_VERSION.txt'
  'code/do_not_change/PyApp-Template_version.txt'
  'code/do_not_change/README.txt'
  'code/do_not_change/readme.txt'
  'code/VERSION.txt'
  'code/version.txt'

check what is not synced and just trash

make sure only stuff is online that is supposed to be there and not from random no 
gitignore at some point

test what happens if global pyton moves from 3.13.x to 3.13.y with same folder

check if ruff settings uptodate with good ruff settings.

install package batch:
does it actually use env?

remove SET "current_file_path=%~dp0"
CD /D "%current_file_path%" where not needed

folder generation needed somehwere?

check ground start

check portable start

cehck fresh git download

cehck verson change

check all acessable linked batches

add confirmation to all folder removal?

can i have non user settings file in different drive?
generall stuff in different drives? epsecially in settings paths

install needed packages did not work for pyboson

maybe moving to local folder is not needed for setlocal?

problem if log is blocked? force replace blocked log file

no error to log file for error in start_program?

check if all starts keep open for crash or not found

where it looks for pyron scipts for auto install. mabye get settings where they are and only check those?. but then dependancies. maybe also check in genal in code\

check no delte log if empty

test lowest working python verssion

see where i get errorlevel and if it translateds to parent batch. print different message if errior

check: do i need python -m pip or not. 
do I need to update pip or python -m

check if enough print lines between spam

check install via git package possible?->add to readme if

echck install local package installs somehow via req.txt possible

test if CALL :handle_python_crash >> %log_path% 2>&1 works recuresively

check if unicode log output

test if error of batch forward for log

check: need activate env for pipreqs? for correct package version for python version?
need pipreqs to install in local? for no global python 
make somehow not add to installed packages? or exclude seomhow from being added to requriement.txt

chekc how bad and if solution needed:add some kind of detection that code crashes immediately and that it does not spam repeatedly. or some minimum delay

checl what abs PATH i need and if i dont want to run all code always

check if existance checks needed

===================================
settings ideas
===================================

add option to always open settings with program start

 auto open log on crash

prompt to close old opened

add option to start minimized

max crashes optoin. 

min time between crashes option

setting to make easily old terminal closing when launchging new

add option to log terminal output to log file. maybe replace python print? outside

add option to not have any prints from batch files?

check if i can add stoppping of closing terminal for non pyqt5

===================================
batch related & ideas related
===================================

make a tkinter terminal instead of pyqt5 becasue no packages needed

git does not exist for donwload in git?->create batch that create git

add system tray option

make code that's runs all setup steps

Maybe add 4 normal launchers that then don't need recreation for offline sharing. Can I fix icon for that?

System tray

Implement logging features

see folder structure for placeholder files instead of coded batch

add progressbar to downlaod and install of python. mabye doable with num elems counting.->add batch function to utils

add asci character previcew of name for every batch that is not for normal start after setup. add space for unknow character? or also add äöü? add - and _ and numbers. maybe full printable ascii chars

is it possible to have pyqt5 window be same as launcher in taskbar

maybe crate install packages from file?

find option to not donwload unneded files in python install

make shortcut generator run that setup batch

detect missing packages for generate shortcuts and prompt to install.
capture missing package error and prompt install for normal run

For python reinstall. Add auto reinstall all installed packages and warn if not possible. Try first with old  packages or no reinstall. Mentioned that and possibly to use upgrade

make batch files more into utilities and add it into utilities folder

 explain behavior of reinstalling python for new version. maybe prompt for delete with text for reinstall 

#check screenshots on phone for ideas

#windows popup for crashes? maybe even in hidden terminal?

add option to copy failed install with opening tmp.txt and manually relax requirements . make pipreqs relaax auto?

make auto Make pyqt5 a scroll Menü for yaml settings with restart button

Add block of Ctrl c

option to install globally thet program

Add relativ starters aka no shortuct?

Change icon in top left corner 

Run terminal in Browser 
+ start with bookmark 

from maxi code for auto version
"""
#!/bin/bash

echo "previous version:"
cat VERSION
echo "new version:"
read version

echo "$version" > VERSION
git add VERSION
git commit -m "set version"
git push origin

git tag -a v"$version" -m "version $version"
git push origin v"$version"
"""

Let the script run in "portable" mode where all logs, configs, environments stay in a single folder -> wherever shortcut is placed also print output and let python think it is there. somehow transfer shortcut pos to batch files and python for that 

make super lightweight interface instead of terminal. maybe as option or only if installed

somehow have an option to get help when having access to shortcut
-> add info to shortcuts slots of original target?

add utilities like replace line in settings

make somehow git run generator for cloning

Change color if there's an error (e.g., red background).

color of error and so on? color of batch code?
python print color

maybe have program Name as asci art

make pyqt5 interface available and easy to use with example.

generate shrotcut to log output

confirmation question via windows popup?

auto fork option? hm maybe just actually copy via a batch file (new folder and copy (dont overwrite at all), and delete .git)
But fork allows for contributing changes back to original template. Git remplate does not but allows for own forking

make option to copy whole folder for new project somehow -> maybe a reset batch so no new download

# add coe on github from "grep-licens" that adds all licnese of python packages to folder

prompt if user wants to update git if available. Add git checks

how do i make settings not sync but also change defaults. Maybe add batch that sets settings as defautl via git. make that behaviour clear for devs -> make batch

add shortcut for log file

add back install packages batch as utility for py app with correct paths

fix 'start_program.bat' is not recognized as an internal or external command,
operable program or batch file. when folder moved-> somehow print error

reload imports settings function? 

===================================
git related
===================================

mabye more genera *log*.txt for gitignore.
# log files:
log.txt

make only drop in verisons that change only changd stuff and one can drop in

maybe make file comparison that updates all files one git template end to local app

batch to compare with a git link the diffs. google better ways

git batches like commit and get update

#add a mode to not sync settings. maybe local seetinfgs? like for com port

Add Syntax Checker to git and even linting?

self updatring from git option?not my code but ones that use template. like a check on Startup and asking for confirmation of update and then restart from ground
Check Git remote for updates and prompt user to pull.
 print at least if new verison available
 add a batch that update git folder. maybe only main and release. maybe propt user and disaply name and changelog(s)

===================================
readme related  and documentation related
===================================

add comment to all settings: REM add a "." if otherwise backslashes are at the end  ???


mention 3.6+ and warn if chosen 3.5 bc wont work.


do i have to mention that "install packages needed for fiels only searches in code?


explain limitation to name: has to be allowed in names i guess. check if shortucts gernrator breaks: not allowed in names \ / : * ? " < > |

add doctrings to batches

describe in main readme quick start better that on can have differnt file edning in settings 

mention small python size option in readme

explain that Ruff settings are there and how to use. move over good ruff settings to pyprojkect

add more explanation text to gitignores

explain why everything is links and why taht allows easyer updates via replace do_not_change

add descriptojn to all all shortcuts

mention that windows might ask for permissions for start since it is code from online

mayor version: remove stuff outside do_not_change
minor version: replacement or added outside do_not_change
min version: replace do_not_change enough

explain renamed needed for terminal cmd separation

fix readme for icons.

explain GitHub desktop easily?

make clear relative paths are allowid in settings and what settings are allowed fro non-user-setrtigns

 explain that you could just use poython for settings
explain all advantages/features

Add git link to readme? For base 

add to notes that you can delete after_python_crash_code.py

add readme in code\ folder   explain what everything is and that it has to keep its name

add how to copy this folder

explain that version ..x changes can be updated by replacing do_not_change and should not be breaking
v.xy changes should be breaking something
releases should always be stable
for breaking. explain what needs to be changed to fix.

fix color in python part of terminal

===================================
license related
===================================

checlk if licensing of new folder exe "generate icons" is correct


mention what the effective license allows and difference to MIT


add explanation for pyq5 license

===================================
small improvements related
===================================

print script name and path when error possible?


dont print installation if requirements.txt is empty

make it not genrate shrotcut for no settings availagle. mention no settings posible


change all to "Press enter to" for safety


dont print installing packages if None
print that it instally python for first exectiun. maybe less spam?
maybe print ===========================

make all rem to REM

add error number to [Error]

replace CD wiht pushd and popd because they only change errorlevel on fail->check if better

add actiavtgion check in
python_env_activation_code_path?

and handle returned errorlevel everhywher

let AI check every file

make fail checks like: || goto :fail

add more errorlevels everywhere

make everyhwre same ehco style and code style

add more crash tests and stops everywhere 

ask AI for speedup and safety and robustness improvmens and also comments and docsttirngs

make icon cahnge exe smaller

make all global variables CAPITALIZED

replace all copy with robocopy


remove if nonoe:
[Info] installing packages

===================================
